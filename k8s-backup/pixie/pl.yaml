apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: kelvin-7b6fdbfb9f-
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      name: kelvin
      plane: data
      pod-template-hash: 7b6fdbfb9f
      vizier-name: pixie
    name: kelvin-7b6fdbfb9f-n9rnm
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: kelvin-7b6fdbfb9f
      uid: 8c1bf851-41f5-4847-80ec-05dc8b977250
    resourceVersion: "1735410"
    uid: 84c936b2-7c2c-462f-8fb6-d38522853e70
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: Exists
            - key: kubernetes.io/os
              operator: In
              values:
              - linux
          - matchExpressions:
            - key: beta.kubernetes.io/os
              operator: Exists
            - key: beta.kubernetes.io/os
              operator: In
              values:
              - linux
    containers:
    - env:
      - name: PL_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: PL_CLUSTER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
      - name: PL_SENTRY_DSN
        valueFrom:
          secretKeyRef:
            key: sentry-dsn
            name: pl-cluster-secrets
            optional: true
      - name: PL_HOST_PATH
        value: /host
      - name: PL_POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: PL_HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_VIZIER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
            optional: true
      - name: PL_VIZIER_NAME
        valueFrom:
          secretKeyRef:
            key: cluster-name
            name: pl-cluster-secrets
            optional: true
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: TCMALLOC_SAMPLE_PARAMETER
        value: "1048576"
      envFrom:
      - configMapRef:
          name: pl-tls-config
      image: gcr.io/pixie-oss/pixie-prod/vizier-kelvin_image:0.14.15
      imagePullPolicy: IfNotPresent
      name: app
      ports:
      - containerPort: 59300
        protocol: TCP
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /sys
        name: sys
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-cloud-connector-svc
      - name: SERVICE_PORT
        value: "50800"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: cc-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-query-broker-svc
      - name: SERVICE_PORT
        value: "50300"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: qb-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 10100
      runAsGroup: 10100
      runAsNonRoot: true
      runAsUser: 10100
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - hostPath:
        path: /sys
        type: Directory
      name: sys
    - name: kube-api-access-fd8mw
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:48Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:13Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:14Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:14Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://57624700da23d83ce44fc4c2339b0e80dd3bf0880e7b697927410f5335299cb0
      image: gcr.io/pixie-oss/pixie-prod/vizier-kelvin_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-kelvin_image@sha256:2fe401518759d09cc99a4953de7576c408984c7b273c4a350d99ab6e94a1361a
      lastState: {}
      name: app
      ready: true
      resources: {}
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:08:13Z"
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /sys
        name: sys
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    initContainerStatuses:
    - containerID: containerd://054031992c28b93e5f8c20202128cf67089fbd92f47a67fc0d97d6cb94e83468
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: cc-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://054031992c28b93e5f8c20202128cf67089fbd92f47a67fc0d97d6cb94e83468
          exitCode: 0
          finishedAt: "2025-12-29T10:08:09Z"
          reason: Completed
          startedAt: "2025-12-29T10:05:48Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
        recursiveReadOnly: Disabled
    - containerID: containerd://cf6d11fbb02abd3ec17c53eacd0cfc6abefe29affbc759c8a552e84b7e660817
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: qb-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://cf6d11fbb02abd3ec17c53eacd0cfc6abefe29affbc759c8a552e84b7e660817
          exitCode: 0
          finishedAt: "2025-12-29T10:08:12Z"
          reason: Completed
          startedAt: "2025-12-29T10:08:10Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-fd8mw
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.1.132
    podIPs:
    - ip: 10.244.1.132
    qosClass: BestEffort
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: pl-nats-
    generation: 1
    labels:
      app: pl-monitoring
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: pl-nats-5d6d6dff7c
      name: pl-nats
      plane: control
      statefulset.kubernetes.io/pod-name: pl-nats-0
      vizier-name: pixie
    name: pl-nats-0
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: pl-nats
      uid: 1771190f-759d-46c8-b089-699c20de7996
    resourceVersion: "1734360"
    uid: 2bedf0ee-ab45-4856-bfb0-ca6daeb3b1d0
  spec:
    containers:
    - command:
      - nats-server
      - --config
      - /etc/nats-config/nats.conf
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: CLUSTER_ADVERTISE
        value: $(POD_NAME).pl-nats.$(POD_NAMESPACE).svc
      image: gcr.io/pixie-oss/pixie-prod/vizier-deps/nats:2.9.19-scratch@sha256:5de59286eb54ead4d4a9279846098d4097b9c17a3c0588182398a7250cde1af9
      imagePullPolicy: IfNotPresent
      lifecycle:
        preStop:
          exec:
            command:
            - /bin/sh
            - -c
            - /nats-server -sl=ldm=/var/run/nats/nats.pid && /bin/sleep 60
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 8222
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: pl-nats
      ports:
      - containerPort: 4222
        name: client
        protocol: TCP
      - containerPort: 7422
        name: leafnodes
        protocol: TCP
      - containerPort: 6222
        name: cluster
        protocol: TCP
      - containerPort: 8222
        name: monitor
        protocol: TCP
      - containerPort: 7777
        name: metrics
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 8222
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/nats-config
        name: config-volume
      - mountPath: /etc/nats-server-tls-certs
        name: nats-server-tls-volume
      - mountPath: /var/run/nats
        name: pid
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-qc66m
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: pl-nats-0
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 10100
      runAsGroup: 10100
      runAsNonRoot: true
      runAsUser: 10100
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: default
    serviceAccountName: default
    shareProcessNamespace: true
    subdomain: pl-nats
    terminationGracePeriodSeconds: 60
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: nats-server-tls-volume
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - configMap:
        defaultMode: 420
        name: nats-config
      name: config-volume
    - emptyDir: {}
      name: pid
    - name: kube-api-access-qc66m
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:47Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:58Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:58Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://4d52e1083d29b39dfde5966af87f9246d8289e1493fb8d22d89a9434cc835a57
      image: sha256:4ad6c7d3b1be3c0ba5ad262181b43033c367c1fc2c39763f125ec5c6c857570a
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-deps/nats@sha256:5de59286eb54ead4d4a9279846098d4097b9c17a3c0588182398a7250cde1af9
      lastState: {}
      name: pl-nats
      ready: true
      resources: {}
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:05:47Z"
      volumeMounts:
      - mountPath: /etc/nats-config
        name: config-volume
      - mountPath: /etc/nats-server-tls-certs
        name: nats-server-tls-volume
      - mountPath: /var/run/nats
        name: pid
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-qc66m
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    phase: Running
    podIP: 10.244.1.24
    podIPs:
    - ip: 10.244.1.24
    qosClass: BestEffort
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      cluster-id: 3f255bb1-3b1f-48da-bf62-95a714cc1ffd
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: vizier-cloud-connector-df45849cc-
    generation: 1
    labels:
      app: pl-monitoring
      cluster-id: 3f255bb1-3b1f-48da-bf62-95a714cc1ffd
      component: vizier
      name: vizier-cloud-connector
      plane: control
      pod-template-hash: df45849cc
      vizier-bootstrap: "true"
      vizier-name: pixie
    name: vizier-cloud-connector-df45849cc-g7rzr
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: vizier-cloud-connector-df45849cc
      uid: aebfee81-b473-418b-9cc3-786550120a32
    resourceVersion: "1735337"
    uid: 4725e2b9-b170-4c39-9a49-0bbcab865da1
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: Exists
            - key: kubernetes.io/os
              operator: In
              values:
              - linux
          - matchExpressions:
            - key: beta.kubernetes.io/os
              operator: Exists
            - key: beta.kubernetes.io/os
              operator: In
              values:
              - linux
    containers:
    - env:
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_CLUSTER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
            optional: true
      - name: PL_VIZIER_NAME
        valueFrom:
          secretKeyRef:
            key: cluster-name
            name: pl-cluster-secrets
            optional: true
      - name: PL_DEPLOY_KEY
        valueFrom:
          secretKeyRef:
            key: deploy-key
            name: pl-deploy-secrets
            optional: true
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: PL_MAX_EXPECTED_CLOCK_SKEW
        value: "2000"
      - name: PL_RENEW_PERIOD
        value: "7500"
      envFrom:
      - configMapRef:
          name: pl-cloud-config
      - configMapRef:
          name: pl-cloud-connector-tls-config
      - configMapRef:
          name: pl-cluster-config
          optional: true
      image: gcr.io/pixie-oss/pixie-prod/vizier-cloud_connector_server_image:0.14.15
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 50800
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: app
      ports:
      - containerPort: 50800
        protocol: TCP
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-x8cxc
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - command:
      - sh
      - -c
      - set -xe; URL="${PROTOCOL}://${SERVICE_NAME}:${SERVICE_PORT}${HEALTH_PATH}";
        until [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200
        ]; do echo "waiting for ${URL}"; sleep 2; done;
      env:
      - name: SERVICE_NAME
        value: pl-nats-mgmt
      - name: SERVICE_PORT
        value: "8222"
      - name: HEALTH_PATH
      - name: PROTOCOL
        value: http
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: nats-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-x8cxc
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 10100
      runAsGroup: 10100
      runAsNonRoot: true
      runAsUser: 10100
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: cloud-conn-service-account
    serviceAccountName: cloud-conn-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - name: kube-api-access-x8cxc
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:48Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:06:11Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:08Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:08Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://d5af831e08273fcae90f2224abfe0b78560ff8657e98c2876ae422a49c775308
      image: gcr.io/pixie-oss/pixie-prod/vizier-cloud_connector_server_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-cloud_connector_server_image@sha256:9f1c1636f96e325d1a3b12316e77f14c2faf5672aca9e65e43f9eb08a21f6fae
      lastState:
        terminated:
          containerID: containerd://f4d68252b9da31b35cb225c50ee4bef3120cb1e844367e710187c8939adfa4ca
          exitCode: 1
          finishedAt: "2025-12-29T10:07:16Z"
          reason: Error
          startedAt: "2025-12-29T10:07:16Z"
      name: app
      ready: true
      resources: {}
      restartCount: 4
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:08:08Z"
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-x8cxc
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    initContainerStatuses:
    - containerID: containerd://baf3237204088d2101b69fe994988ea3de87aa8a62e13d57ea20a841c6af4af3
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: nats-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://baf3237204088d2101b69fe994988ea3de87aa8a62e13d57ea20a841c6af4af3
          exitCode: 0
          finishedAt: "2025-12-29T10:06:10Z"
          reason: Completed
          startedAt: "2025-12-29T10:05:48Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-x8cxc
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.1.14
    podIPs:
    - ip: 10.244.1.14
    qosClass: BestEffort
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      px.dev/metrics_port: "50400"
      px.dev/metrics_scrape: "true"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: vizier-metadata-
    generation: 1
    labels:
      app: pl-monitoring
      apps.kubernetes.io/pod-index: "0"
      component: vizier
      controller-revision-hash: vizier-metadata-54694b9648
      name: vizier-metadata
      plane: control
      statefulset.kubernetes.io/pod-name: vizier-metadata-0
      vizier-name: pixie
    name: vizier-metadata-0
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: vizier-metadata
      uid: f8b4de59-7c5e-4098-9d9f-352eb47013b8
    resourceVersion: "1734785"
    uid: c71368e9-6744-4dda-a60a-be42e1e83bb4
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: Exists
            - key: kubernetes.io/os
              operator: In
              values:
              - linux
          - matchExpressions:
            - key: beta.kubernetes.io/os
              operator: Exists
            - key: beta.kubernetes.io/os
              operator: In
              values:
              - linux
    containers:
    - env:
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: PL_MAX_EXPECTED_CLOCK_SKEW
        value: "2000"
      - name: PL_RENEW_PERIOD
        value: "7500"
      - name: PL_ETCD_OPERATOR_ENABLED
        value: "false"
      envFrom:
      - configMapRef:
          name: pl-tls-config
      image: gcr.io/pixie-oss/pixie-prod/vizier-metadata_server_image:0.14.15
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 50400
          scheme: HTTPS
        initialDelaySeconds: 120
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: app
      readinessProbe:
        failureThreshold: 5
        httpGet:
          path: /healthz
          port: 50400
          scheme: HTTPS
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /metadata
        name: metadata-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ml92x
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: vizier-metadata-0
    initContainers:
    - command:
      - sh
      - -c
      - set -xe; URL="${PROTOCOL}://${SERVICE_NAME}:${SERVICE_PORT}${HEALTH_PATH}";
        until [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200
        ]; do echo "waiting for ${URL}"; sleep 2; done;
      env:
      - name: SERVICE_NAME
        value: pl-nats-mgmt
      - name: SERVICE_PORT
        value: "8222"
      - name: HEALTH_PATH
      - name: PROTOCOL
        value: http
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: nats-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ml92x
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 10100
      runAsGroup: 10100
      runAsNonRoot: true
      runAsUser: 10100
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: metadata-service-account
    serviceAccountName: metadata-service-account
    subdomain: vizier-metadata
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - name: metadata-volume
      persistentVolumeClaim:
        claimName: metadata-pv-claim
    - name: kube-api-access-ml92x
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:06:18Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:06:18Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:06:50Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:06:50Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:48Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://860984e30f4b5dba1f7aa0f82d92781e2196e250cbdaf16f945b3dc9794d6039
      image: gcr.io/pixie-oss/pixie-prod/vizier-metadata_server_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-metadata_server_image@sha256:3c2e07eeb209f53c982724173457c8650301e4b36e29d3d93e7196c6e56a7cc5
      lastState: {}
      name: app
      ready: true
      resources: {}
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:06:18Z"
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /metadata
        name: metadata-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ml92x
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    initContainerStatuses:
    - containerID: containerd://43d54bcb18134fd15b1c3e84ed22d453541c38157a97b1dd763406265ef55de2
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: nats-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://43d54bcb18134fd15b1c3e84ed22d453541c38157a97b1dd763406265ef55de2
          exitCode: 0
          finishedAt: "2025-12-29T10:06:17Z"
          reason: Completed
          startedAt: "2025-12-29T10:06:17Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ml92x
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.1.139
    podIPs:
    - ip: 10.244.1.139
    qosClass: BestEffort
    startTime: "2025-12-29T10:05:48Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: vizier-pem-
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      controller-revision-hash: 6866b7689c
      name: vizier-pem
      plane: data
      pod-template-generation: "1"
      vizier-name: pixie
    name: vizier-pem-c6d25
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: vizier-pem
      uid: db73e968-9a98-4b25-8127-de8186a0a6a7
    resourceVersion: "1735408"
    uid: adc53344-ffd2-4179-b4cd-e5abd12b96eb
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - aks-nodepool1-41991914-vmss000001
    containers:
    - env:
      - name: PL_PEM_ENV_VAR_PLACEHOLDER
        value: "true"
      - name: PL_PROFILER_JAVA_SYMBOLS
        value: "true"
      - name: PL_TABLE_STORE_DATA_LIMIT_MB
        value: "1228"
      - name: PX_DEBUG_TLS_SOURCES
        value: "false"
      - name: PX_TRACE_STATIC_TLS_BINARIES
        value: "true"
      - name: TCMALLOC_SAMPLE_PARAMETER
        value: "1048576"
      - name: PL_CLIENT_TLS_CERT
        value: /certs/client.crt
      - name: PL_CLIENT_TLS_KEY
        value: /certs/client.key
      - name: PL_TLS_CA_CERT
        value: /certs/ca.crt
      - name: PL_DISABLE_SSL
        value: "false"
      - name: PL_HOST_PATH
        value: /host
      - name: PL_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: PL_HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_VIZIER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
            optional: true
      - name: PL_VIZIER_NAME
        valueFrom:
          secretKeyRef:
            key: cluster-name
            name: pl-cluster-secrets
            optional: true
      - name: PL_CLOCK_CONVERTER
        value: default
      image: gcr.io/pixie-oss/pixie-prod/vizier-pem_image:0.14.15
      imagePullPolicy: IfNotPresent
      name: pem
      resources:
        limits:
          memory: 2Gi
        requests:
          memory: 2Gi
      securityContext:
        capabilities:
          add:
          - SYS_PTRACE
          - SYS_ADMIN
        privileged: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /host
        name: host-root
        readOnly: true
      - mountPath: /sys
        name: sys
        readOnly: true
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5wzl5
        readOnly: true
    dnsPolicy: ClusterFirstWithHostNet
    enableServiceLinks: true
    hostNetwork: true
    hostPID: true
    initContainers:
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-query-broker-svc
      - name: SERVICE_PORT
        value: "50300"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: qb-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5wzl5
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 10
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - hostPath:
        path: /
        type: Directory
      name: host-root
    - hostPath:
        path: /sys
        type: Directory
      name: sys
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - name: kube-api-access-5wzl5
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:48Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:13Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:14Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:14Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        memory: 2Gi
      containerID: containerd://9a7ba78f1c2b29ba4e7076908d21b20f2c805130f4708e02cb8dc7c75e7ac9c9
      image: gcr.io/pixie-oss/pixie-prod/vizier-pem_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-pem_image@sha256:e17e8b40fda3a51a385581578e34154e2c4b7f629903bec647c8465837fda121
      lastState: {}
      name: pem
      ready: true
      resources:
        limits:
          memory: 2Gi
        requests:
          memory: 2Gi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:08:14Z"
      volumeMounts:
      - mountPath: /host
        name: host-root
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /sys
        name: sys
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5wzl5
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    initContainerStatuses:
    - containerID: containerd://c9e5615faada5100936964922d72d12d75172611eea5bb8c5fb5476d64581e48
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: qb-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://c9e5615faada5100936964922d72d12d75172611eea5bb8c5fb5476d64581e48
          exitCode: 0
          finishedAt: "2025-12-29T10:08:13Z"
          reason: Completed
          startedAt: "2025-12-29T10:05:48Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5wzl5
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.224.0.5
    podIPs:
    - ip: 10.224.0.5
    qosClass: Burstable
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: vizier-pem-
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      controller-revision-hash: 6866b7689c
      name: vizier-pem
      plane: data
      pod-template-generation: "1"
      vizier-name: pixie
    name: vizier-pem-f9zd6
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: vizier-pem
      uid: db73e968-9a98-4b25-8127-de8186a0a6a7
    resourceVersion: "1735432"
    uid: e7f4af11-b594-44a4-a480-6c00c86e9812
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - aks-nodepool1-41991914-vmss000000
    containers:
    - env:
      - name: PL_PEM_ENV_VAR_PLACEHOLDER
        value: "true"
      - name: PL_PROFILER_JAVA_SYMBOLS
        value: "true"
      - name: PL_TABLE_STORE_DATA_LIMIT_MB
        value: "1228"
      - name: PX_DEBUG_TLS_SOURCES
        value: "false"
      - name: PX_TRACE_STATIC_TLS_BINARIES
        value: "true"
      - name: TCMALLOC_SAMPLE_PARAMETER
        value: "1048576"
      - name: PL_CLIENT_TLS_CERT
        value: /certs/client.crt
      - name: PL_CLIENT_TLS_KEY
        value: /certs/client.key
      - name: PL_TLS_CA_CERT
        value: /certs/ca.crt
      - name: PL_DISABLE_SSL
        value: "false"
      - name: PL_HOST_PATH
        value: /host
      - name: PL_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: PL_HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_VIZIER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
            optional: true
      - name: PL_VIZIER_NAME
        valueFrom:
          secretKeyRef:
            key: cluster-name
            name: pl-cluster-secrets
            optional: true
      - name: PL_CLOCK_CONVERTER
        value: default
      image: gcr.io/pixie-oss/pixie-prod/vizier-pem_image:0.14.15
      imagePullPolicy: IfNotPresent
      name: pem
      resources:
        limits:
          memory: 2Gi
        requests:
          memory: 2Gi
      securityContext:
        capabilities:
          add:
          - SYS_PTRACE
          - SYS_ADMIN
        privileged: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /host
        name: host-root
        readOnly: true
      - mountPath: /sys
        name: sys
        readOnly: true
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kv9f7
        readOnly: true
    dnsPolicy: ClusterFirstWithHostNet
    enableServiceLinks: true
    hostNetwork: true
    hostPID: true
    initContainers:
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-query-broker-svc
      - name: SERVICE_PORT
        value: "50300"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: qb-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kv9f7
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000000
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 10
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - hostPath:
        path: /
        type: Directory
      name: host-root
    - hostPath:
        path: /sys
        type: Directory
      name: sys
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - name: kube-api-access-kv9f7
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:47Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:15Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:16Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:16Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        memory: 2Gi
      containerID: containerd://27682d54c2c4ef265131c7e7821547312ea52311ba313020ef8a40d88ece631a
      image: gcr.io/pixie-oss/pixie-prod/vizier-pem_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-pem_image@sha256:e17e8b40fda3a51a385581578e34154e2c4b7f629903bec647c8465837fda121
      lastState: {}
      name: pem
      ready: true
      resources:
        limits:
          memory: 2Gi
        requests:
          memory: 2Gi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:08:15Z"
      volumeMounts:
      - mountPath: /host
        name: host-root
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /sys
        name: sys
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kv9f7
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.4
    hostIPs:
    - ip: 10.224.0.4
    initContainerStatuses:
    - containerID: containerd://fd43b3d5a6e4311a62efa0db9e882404de589fc42b2f81df69f60faef36c446e
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: qb-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://fd43b3d5a6e4311a62efa0db9e882404de589fc42b2f81df69f60faef36c446e
          exitCode: 0
          finishedAt: "2025-12-29T10:08:14Z"
          reason: Completed
          startedAt: "2025-12-29T10:05:47Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kv9f7
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.224.0.4
    podIPs:
    - ip: 10.224.0.4
    qosClass: Burstable
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      px.dev/metrics_port: "50300"
      px.dev/metrics_scrape: "true"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generateName: vizier-query-broker-765664495f-
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      name: vizier-query-broker
      plane: control
      pod-template-hash: 765664495f
      vizier-name: pixie
    name: vizier-query-broker-765664495f-5sv7h
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: vizier-query-broker-765664495f
      uid: 7c8834c4-5642-4daa-9980-e6bd4831e64e
    resourceVersion: "1735382"
    uid: 9be5c7c3-d08b-4dc8-9bc5-8c4c408952bc
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/os
              operator: Exists
            - key: kubernetes.io/os
              operator: In
              values:
              - linux
          - matchExpressions:
            - key: beta.kubernetes.io/os
              operator: Exists
            - key: beta.kubernetes.io/os
              operator: In
              values:
              - linux
    containers:
    - env:
      - name: PL_POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: PL_CLUSTER_ID
        valueFrom:
          secretKeyRef:
            key: cluster-id
            name: pl-cluster-secrets
      - name: PL_SENTRY_DSN
        valueFrom:
          secretKeyRef:
            key: sentry-dsn
            name: pl-cluster-secrets
            optional: true
      - name: PL_JWT_SIGNING_KEY
        valueFrom:
          secretKeyRef:
            key: jwt-signing-key
            name: pl-cluster-secrets
      - name: PL_POD_IP_ADDRESS
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: PL_POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: PL_CLOUD_ADDR
        valueFrom:
          configMapKeyRef:
            key: PL_CLOUD_ADDR
            name: pl-cloud-config
      - name: PL_DATA_ACCESS
        value: Full
      envFrom:
      - configMapRef:
          name: pl-tls-config
      image: gcr.io/pixie-oss/pixie-prod/vizier-query_broker_server_image:0.14.15
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 50300
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: app
      ports:
      - containerPort: 50300
        protocol: TCP
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-cloud-connector-svc
      - name: SERVICE_PORT
        value: "50800"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: cc-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
    - command:
      - sh
      - -c
      - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until [ $(curl
        -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ]; do echo "waiting
        for ${URL}"; sleep 2; done; '
      env:
      - name: SERVICE_NAME
        value: vizier-metadata-svc
      - name: SERVICE_PORT
        value: "50400"
      image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      imagePullPolicy: IfNotPresent
      name: mds-wait
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
    nodeName: aks-nodepool1-41991914-vmss000001
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 10100
      runAsGroup: 10100
      runAsNonRoot: true
      runAsUser: 10100
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: query-broker-service-account
    serviceAccountName: query-broker-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: certs
      secret:
        defaultMode: 420
        secretName: service-tls-certs
    - configMap:
        defaultMode: 420
        name: proxy-envoy-config
      name: envoy-yaml
    - name: kube-api-access-tbwmz
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:48Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:11Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:12Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:08:12Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-12-29T10:05:46Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://2a877cae2790b14651623a47f5894975d866bce329f3f8e3f8685cc71ba8232e
      image: gcr.io/pixie-oss/pixie-prod/vizier-query_broker_server_image:0.14.15
      imageID: gcr.io/pixie-oss/pixie-prod/vizier-query_broker_server_image@sha256:d20204368b519a1bf9a04662ea276b70522a45837199a32791f01993b2dc5426
      lastState: {}
      name: app
      ready: true
      resources: {}
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-12-29T10:08:11Z"
      volumeMounts:
      - mountPath: /certs
        name: certs
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.224.0.5
    hostIPs:
    - ip: 10.224.0.5
    initContainerStatuses:
    - containerID: containerd://bb612cf72323e4a1595836161cd2b6199f7be5f4f9e16bceec808dee0b1b5047
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: cc-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://bb612cf72323e4a1595836161cd2b6199f7be5f4f9e16bceec808dee0b1b5047
          exitCode: 0
          finishedAt: "2025-12-29T10:08:09Z"
          reason: Completed
          startedAt: "2025-12-29T10:05:48Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
        recursiveReadOnly: Disabled
    - containerID: containerd://d00f9e3788e51d41e683382623f671337f5732135e5b1f70a9cbb9febece7e2b
      image: sha256:3148ec916ea71d90f1beae623b3c5eb4a2db5a585db3178d9619bc2feb8f5f49
      imageID: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
      lastState: {}
      name: mds-wait
      ready: true
      resources: {}
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://d00f9e3788e51d41e683382623f671337f5732135e5b1f70a9cbb9febece7e2b
          exitCode: 0
          finishedAt: "2025-12-29T10:08:10Z"
          reason: Completed
          startedAt: "2025-12-29T10:08:10Z"
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tbwmz
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.1.34
    podIPs:
    - ip: 10.244.1.34
    qosClass: BestEffort
    startTime: "2025-12-29T10:05:46Z"
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: kelvin-service
    namespace: pl
    resourceVersion: "1734143"
    uid: e75f5340-bbf7-4942-aa66-b94ed1667a27
  spec:
    clusterIP: None
    clusterIPs:
    - None
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: tcp-http2
      port: 59300
      protocol: TCP
      targetPort: 59300
    selector:
      app: pl-monitoring
      component: vizier
      name: kelvin
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      name: pl-nats
      vizier-name: pixie
    name: pl-nats
    namespace: pl
    resourceVersion: "1734095"
    uid: 2e4b0cbb-c0ac-4c5e-bc51-894b389bef35
  spec:
    clusterIP: 10.0.21.10
    clusterIPs:
    - 10.0.21.10
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: client
      port: 4222
      protocol: TCP
      targetPort: 4222
    selector:
      app: pl-monitoring
      name: pl-nats
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      name: pl-nats
      vizier-name: pixie
    name: pl-nats-mgmt
    namespace: pl
    resourceVersion: "1734099"
    uid: 02222b4e-be98-4c77-9524-cfa652113258
  spec:
    clusterIP: None
    clusterIPs:
    - None
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: cluster
      port: 6222
      protocol: TCP
      targetPort: 6222
    - name: monitor
      port: 8222
      protocol: TCP
      targetPort: 8222
    - name: metrics
      port: 7777
      protocol: TCP
      targetPort: 7777
    - name: leafnodes
      port: 7422
      protocol: TCP
      targetPort: 7422
    - name: gateways
      port: 7522
      protocol: TCP
      targetPort: 7522
    selector:
      app: pl-monitoring
      name: pl-nats
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      component: vizier
      vizier-bootstrap: "true"
      vizier-name: pixie
    name: vizier-cloud-connector-svc
    namespace: pl
    resourceVersion: "1734148"
    uid: aa13cb7f-cdb4-4e4f-9729-7a030a9fa66a
  spec:
    clusterIP: 10.0.74.25
    clusterIPs:
    - 10.0.74.25
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: tcp-http2
      port: 50800
      protocol: TCP
      targetPort: 50800
    selector:
      app: pl-monitoring
      component: vizier
      name: vizier-cloud-connector
      vizier-bootstrap: "true"
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: vizier-metadata-svc
    namespace: pl
    resourceVersion: "1734154"
    uid: 14349412-2840-40d0-abd9-0000d6978781
  spec:
    clusterIP: 10.0.72.35
    clusterIPs:
    - 10.0.72.35
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: tcp-http2
      port: 50400
      protocol: TCP
      targetPort: 50400
    selector:
      app: pl-monitoring
      component: vizier
      name: vizier-metadata
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: vizier-query-broker-svc
    namespace: pl
    resourceVersion: "1734159"
    uid: 05b71dbd-03f4-40bf-aa51-5fb6c95f6e8e
  spec:
    clusterIP: 10.0.228.90
    clusterIPs:
    - 10.0.228.90
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: tcp-http2
      port: 50300
      protocol: TCP
      targetPort: 50300
    - name: tcp-grpc-web
      port: 50305
      protocol: TCP
      targetPort: 50305
    selector:
      app: pl-monitoring
      component: vizier
      name: vizier-query-broker
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: vizier-pem
    namespace: pl
    resourceVersion: "1735433"
    uid: db73e968-9a98-4b25-8127-de8186a0a6a7
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-pem
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-pem
          plane: data
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_PEM_ENV_VAR_PLACEHOLDER
            value: "true"
          - name: PL_PROFILER_JAVA_SYMBOLS
            value: "true"
          - name: PL_TABLE_STORE_DATA_LIMIT_MB
            value: "1228"
          - name: PX_DEBUG_TLS_SOURCES
            value: "false"
          - name: PX_TRACE_STATIC_TLS_BINARIES
            value: "true"
          - name: TCMALLOC_SAMPLE_PARAMETER
            value: "1048576"
          - name: PL_CLIENT_TLS_CERT
            value: /certs/client.crt
          - name: PL_CLIENT_TLS_KEY
            value: /certs/client.key
          - name: PL_TLS_CA_CERT
            value: /certs/ca.crt
          - name: PL_DISABLE_SSL
            value: "false"
          - name: PL_HOST_PATH
            value: /host
          - name: PL_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_VIZIER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
                optional: true
          - name: PL_VIZIER_NAME
            valueFrom:
              secretKeyRef:
                key: cluster-name
                name: pl-cluster-secrets
                optional: true
          - name: PL_CLOCK_CONVERTER
            value: default
          image: gcr.io/pixie-oss/pixie-prod/vizier-pem_image:0.14.15
          imagePullPolicy: IfNotPresent
          name: pem
          resources:
            limits:
              memory: 2Gi
            requests:
              memory: 2Gi
          securityContext:
            capabilities:
              add:
              - SYS_PTRACE
              - SYS_ADMIN
            privileged: true
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /host
            name: host-root
            readOnly: true
          - mountPath: /sys
            name: sys
            readOnly: true
          - mountPath: /certs
            name: certs
        dnsPolicy: ClusterFirstWithHostNet
        hostNetwork: true
        hostPID: true
        initContainers:
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until
            [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-query-broker-svc
          - name: SERVICE_PORT
            value: "50300"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: qb-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          seccompProfile:
            type: RuntimeDefault
        terminationGracePeriodSeconds: 10
        volumes:
        - hostPath:
            path: /
            type: Directory
          name: host-root
        - hostPath:
            path: /sys
            type: Directory
          name: sys
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 20
      type: RollingUpdate
  status:
    currentNumberScheduled: 2
    desiredNumberScheduled: 2
    numberAvailable: 2
    numberMisscheduled: 0
    numberReady: 2
    observedGeneration: 1
    updatedNumberScheduled: 2
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: kelvin
    namespace: pl
    resourceVersion: "1735414"
    uid: 4f718bdf-748d-4060-88f4-6e7627e1c4fb
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: kelvin
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: kelvin
          plane: data
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
          - name: PL_SENTRY_DSN
            valueFrom:
              secretKeyRef:
                key: sentry-dsn
                name: pl-cluster-secrets
                optional: true
          - name: PL_HOST_PATH
            value: /host
          - name: PL_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: PL_HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_VIZIER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
                optional: true
          - name: PL_VIZIER_NAME
            valueFrom:
              secretKeyRef:
                key: cluster-name
                name: pl-cluster-secrets
                optional: true
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: TCMALLOC_SAMPLE_PARAMETER
            value: "1048576"
          envFrom:
          - configMapRef:
              name: pl-tls-config
          image: gcr.io/pixie-oss/pixie-prod/vizier-kelvin_image:0.14.15
          imagePullPolicy: IfNotPresent
          name: app
          ports:
          - containerPort: 59300
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
          - mountPath: /sys
            name: sys
            readOnly: true
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [
            $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-cloud-connector-svc
          - name: SERVICE_PORT
            value: "50800"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: cc-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until
            [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-query-broker-svc
          - name: SERVICE_PORT
            value: "50300"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: qb-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - hostPath:
            path: /sys
            type: Directory
          name: sys
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-12-29T10:08:14Z"
      lastUpdateTime: "2025-12-29T10:08:14Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-12-29T10:05:46Z"
      lastUpdateTime: "2025-12-29T10:08:14Z"
      message: ReplicaSet "kelvin-7b6fdbfb9f" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      vizier-bootstrap: "true"
      vizier-name: pixie
    name: vizier-cloud-connector
    namespace: pl
    resourceVersion: "1735341"
    uid: fa3c0e9d-fdd1-45ca-b226-b9517351bc95
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-cloud-connector
        vizier-bootstrap: "true"
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-cloud-connector
          plane: control
          vizier-bootstrap: "true"
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
                optional: true
          - name: PL_VIZIER_NAME
            valueFrom:
              secretKeyRef:
                key: cluster-name
                name: pl-cluster-secrets
                optional: true
          - name: PL_DEPLOY_KEY
            valueFrom:
              secretKeyRef:
                key: deploy-key
                name: pl-deploy-secrets
                optional: true
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_MAX_EXPECTED_CLOCK_SKEW
            value: "2000"
          - name: PL_RENEW_PERIOD
            value: "7500"
          envFrom:
          - configMapRef:
              name: pl-cloud-config
          - configMapRef:
              name: pl-cloud-connector-tls-config
          - configMapRef:
              name: pl-cluster-config
              optional: true
          image: gcr.io/pixie-oss/pixie-prod/vizier-cloud_connector_server_image:0.14.15
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 50800
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: app
          ports:
          - containerPort: 50800
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - set -xe; URL="${PROTOCOL}://${SERVICE_NAME}:${SERVICE_PORT}${HEALTH_PATH}";
            until [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq
            200 ]; do echo "waiting for ${URL}"; sleep 2; done;
          env:
          - name: SERVICE_NAME
            value: pl-nats-mgmt
          - name: SERVICE_PORT
            value: "8222"
          - name: HEALTH_PATH
          - name: PROTOCOL
            value: http
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: nats-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: cloud-conn-service-account
        serviceAccountName: cloud-conn-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-12-29T10:05:46Z"
      lastUpdateTime: "2025-12-29T10:06:12Z"
      message: ReplicaSet "vizier-cloud-connector-df45849cc" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2025-12-29T10:08:08Z"
      lastUpdateTime: "2025-12-29T10:08:08Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: vizier-query-broker
    namespace: pl
    resourceVersion: "1735386"
    uid: 9c73ef45-087f-4a83-ae28-e93f770e8d0c
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-query-broker
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          px.dev/metrics_port: "50300"
          px.dev/metrics_scrape: "true"
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-query-broker
          plane: control
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
          - name: PL_SENTRY_DSN
            valueFrom:
              secretKeyRef:
                key: sentry-dsn
                name: pl-cluster-secrets
                optional: true
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_POD_IP_ADDRESS
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_CLOUD_ADDR
            valueFrom:
              configMapKeyRef:
                key: PL_CLOUD_ADDR
                name: pl-cloud-config
          - name: PL_DATA_ACCESS
            value: Full
          envFrom:
          - configMapRef:
              name: pl-tls-config
          image: gcr.io/pixie-oss/pixie-prod/vizier-query_broker_server_image:0.14.15
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 50300
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: app
          ports:
          - containerPort: 50300
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [
            $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-cloud-connector-svc
          - name: SERVICE_PORT
            value: "50800"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: cc-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until
            [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-metadata-svc
          - name: SERVICE_PORT
            value: "50400"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: mds-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: query-broker-service-account
        serviceAccountName: query-broker-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - configMap:
            defaultMode: 420
            name: proxy-envoy-config
          name: envoy-yaml
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-12-29T10:08:12Z"
      lastUpdateTime: "2025-12-29T10:08:12Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-12-29T10:05:46Z"
      lastUpdateTime: "2025-12-29T10:08:12Z"
      message: ReplicaSet "vizier-query-broker-765664495f" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      name: kelvin
      plane: data
      pod-template-hash: 7b6fdbfb9f
      vizier-name: pixie
    name: kelvin-7b6fdbfb9f
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: kelvin
      uid: 4f718bdf-748d-4060-88f4-6e7627e1c4fb
    resourceVersion: "1735413"
    uid: 8c1bf851-41f5-4847-80ec-05dc8b977250
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: kelvin
        pod-template-hash: 7b6fdbfb9f
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: kelvin
          plane: data
          pod-template-hash: 7b6fdbfb9f
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
          - name: PL_SENTRY_DSN
            valueFrom:
              secretKeyRef:
                key: sentry-dsn
                name: pl-cluster-secrets
                optional: true
          - name: PL_HOST_PATH
            value: /host
          - name: PL_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: PL_HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_VIZIER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
                optional: true
          - name: PL_VIZIER_NAME
            valueFrom:
              secretKeyRef:
                key: cluster-name
                name: pl-cluster-secrets
                optional: true
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: TCMALLOC_SAMPLE_PARAMETER
            value: "1048576"
          envFrom:
          - configMapRef:
              name: pl-tls-config
          image: gcr.io/pixie-oss/pixie-prod/vizier-kelvin_image:0.14.15
          imagePullPolicy: IfNotPresent
          name: app
          ports:
          - containerPort: 59300
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
          - mountPath: /sys
            name: sys
            readOnly: true
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [
            $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-cloud-connector-svc
          - name: SERVICE_PORT
            value: "50800"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: cc-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until
            [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-query-broker-svc
          - name: SERVICE_PORT
            value: "50300"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: qb-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - hostPath:
            path: /sys
            type: Directory
          name: sys
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      name: vizier-cloud-connector
      plane: control
      pod-template-hash: df45849cc
      vizier-bootstrap: "true"
      vizier-name: pixie
    name: vizier-cloud-connector-df45849cc
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: vizier-cloud-connector
      uid: fa3c0e9d-fdd1-45ca-b226-b9517351bc95
    resourceVersion: "1735340"
    uid: aebfee81-b473-418b-9cc3-786550120a32
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-cloud-connector
        pod-template-hash: df45849cc
        vizier-bootstrap: "true"
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-cloud-connector
          plane: control
          pod-template-hash: df45849cc
          vizier-bootstrap: "true"
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
                optional: true
          - name: PL_VIZIER_NAME
            valueFrom:
              secretKeyRef:
                key: cluster-name
                name: pl-cluster-secrets
                optional: true
          - name: PL_DEPLOY_KEY
            valueFrom:
              secretKeyRef:
                key: deploy-key
                name: pl-deploy-secrets
                optional: true
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_MAX_EXPECTED_CLOCK_SKEW
            value: "2000"
          - name: PL_RENEW_PERIOD
            value: "7500"
          envFrom:
          - configMapRef:
              name: pl-cloud-config
          - configMapRef:
              name: pl-cloud-connector-tls-config
          - configMapRef:
              name: pl-cluster-config
              optional: true
          image: gcr.io/pixie-oss/pixie-prod/vizier-cloud_connector_server_image:0.14.15
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 50800
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: app
          ports:
          - containerPort: 50800
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - set -xe; URL="${PROTOCOL}://${SERVICE_NAME}:${SERVICE_PORT}${HEALTH_PATH}";
            until [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq
            200 ]; do echo "waiting for ${URL}"; sleep 2; done;
          env:
          - name: SERVICE_NAME
            value: pl-nats-mgmt
          - name: SERVICE_PORT
            value: "8222"
          - name: HEALTH_PATH
          - name: PROTOCOL
            value: http
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: nats-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: cloud-conn-service-account
        serviceAccountName: cloud-conn-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      name: vizier-query-broker
      plane: control
      pod-template-hash: 765664495f
      vizier-name: pixie
    name: vizier-query-broker-765664495f
    namespace: pl
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: vizier-query-broker
      uid: 9c73ef45-087f-4a83-ae28-e93f770e8d0c
    resourceVersion: "1735385"
    uid: 7c8834c4-5642-4daa-9980-e6bd4831e64e
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-query-broker
        pod-template-hash: 765664495f
    template:
      metadata:
        annotations:
          px.dev/metrics_port: "50300"
          px.dev/metrics_scrape: "true"
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-query-broker
          plane: control
          pod-template-hash: 765664495f
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: PL_CLUSTER_ID
            valueFrom:
              secretKeyRef:
                key: cluster-id
                name: pl-cluster-secrets
          - name: PL_SENTRY_DSN
            valueFrom:
              secretKeyRef:
                key: sentry-dsn
                name: pl-cluster-secrets
                optional: true
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_POD_IP_ADDRESS
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_CLOUD_ADDR
            valueFrom:
              configMapKeyRef:
                key: PL_CLOUD_ADDR
                name: pl-cloud-config
          - name: PL_DATA_ACCESS
            value: Full
          envFrom:
          - configMapRef:
              name: pl-tls-config
          image: gcr.io/pixie-oss/pixie-prod/vizier-query_broker_server_image:0.14.15
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 50300
              scheme: HTTPS
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: app
          ports:
          - containerPort: 50300
            protocol: TCP
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/readyz"; until [
            $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-cloud-connector-svc
          - name: SERVICE_PORT
            value: "50800"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: cc-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        - command:
          - sh
          - -c
          - 'set -x; URL="https://${SERVICE_NAME}:${SERVICE_PORT}/healthz"; until
            [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq 200 ];
            do echo "waiting for ${URL}"; sleep 2; done; '
          env:
          - name: SERVICE_NAME
            value: vizier-metadata-svc
          - name: SERVICE_PORT
            value: "50400"
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: mds-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: query-broker-service-account
        serviceAccountName: query-broker-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - configMap:
            defaultMode: 420
            name: proxy-envoy-config
          name: envoy-yaml
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      name: pl-nats
      vizier-name: pixie
    name: pl-nats
    namespace: pl
    resourceVersion: "1734365"
    uid: 1771190f-759d-46c8-b089-699c20de7996
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        name: pl-nats
    serviceName: pl-nats
    template:
      metadata:
        annotations:
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          name: pl-nats
          plane: control
          vizier-name: pixie
      spec:
        containers:
        - command:
          - nats-server
          - --config
          - /etc/nats-config/nats.conf
          env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: CLUSTER_ADVERTISE
            value: $(POD_NAME).pl-nats.$(POD_NAMESPACE).svc
          image: gcr.io/pixie-oss/pixie-prod/vizier-deps/nats:2.9.19-scratch@sha256:5de59286eb54ead4d4a9279846098d4097b9c17a3c0588182398a7250cde1af9
          imagePullPolicy: IfNotPresent
          lifecycle:
            preStop:
              exec:
                command:
                - /bin/sh
                - -c
                - /nats-server -sl=ldm=/var/run/nats/nats.pid && /bin/sleep 60
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8222
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: pl-nats
          ports:
          - containerPort: 4222
            name: client
            protocol: TCP
          - containerPort: 7422
            name: leafnodes
            protocol: TCP
          - containerPort: 6222
            name: cluster
            protocol: TCP
          - containerPort: 8222
            name: monitor
            protocol: TCP
          - containerPort: 7777
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8222
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/nats-config
            name: config-volume
          - mountPath: /etc/nats-server-tls-certs
            name: nats-server-tls-volume
          - mountPath: /var/run/nats
            name: pid
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        shareProcessNamespace: true
        terminationGracePeriodSeconds: 60
        volumes:
        - name: nats-server-tls-volume
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - configMap:
            defaultMode: 420
            name: nats-config
          name: config-volume
        - emptyDir: {}
          name: pid
    updateStrategy:
      rollingUpdate:
        partition: 0
      type: RollingUpdate
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: pl-nats-5d6d6dff7c
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updateRevision: pl-nats-5d6d6dff7c
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      vizier-name: pixie
    creationTimestamp: "2025-12-29T10:05:46Z"
    generation: 1
    labels:
      app: pl-monitoring
      component: vizier
      vizier-name: pixie
    name: vizier-metadata
    namespace: pl
    resourceVersion: "1734788"
    uid: f8b4de59-7c5e-4098-9d9f-352eb47013b8
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: pl-monitoring
        component: vizier
        name: vizier-metadata
    serviceName: vizier-metadata
    template:
      metadata:
        annotations:
          px.dev/metrics_port: "50400"
          px.dev/metrics_scrape: "true"
          vizier-name: pixie
        creationTimestamp: null
        labels:
          app: pl-monitoring
          component: vizier
          name: vizier-metadata
          plane: control
          vizier-name: pixie
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: kubernetes.io/os
                  operator: Exists
                - key: kubernetes.io/os
                  operator: In
                  values:
                  - linux
              - matchExpressions:
                - key: beta.kubernetes.io/os
                  operator: Exists
                - key: beta.kubernetes.io/os
                  operator: In
                  values:
                  - linux
        containers:
        - env:
          - name: PL_JWT_SIGNING_KEY
            valueFrom:
              secretKeyRef:
                key: jwt-signing-key
                name: pl-cluster-secrets
          - name: PL_POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: PL_MAX_EXPECTED_CLOCK_SKEW
            value: "2000"
          - name: PL_RENEW_PERIOD
            value: "7500"
          - name: PL_ETCD_OPERATOR_ENABLED
            value: "false"
          envFrom:
          - configMapRef:
              name: pl-tls-config
          image: gcr.io/pixie-oss/pixie-prod/vizier-metadata_server_image:0.14.15
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 50400
              scheme: HTTPS
            initialDelaySeconds: 120
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: app
          readinessProbe:
            failureThreshold: 5
            httpGet:
              path: /healthz
              port: 50400
              scheme: HTTPS
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /certs
            name: certs
          - mountPath: /metadata
            name: metadata-volume
        dnsPolicy: ClusterFirst
        initContainers:
        - command:
          - sh
          - -c
          - set -xe; URL="${PROTOCOL}://${SERVICE_NAME}:${SERVICE_PORT}${HEALTH_PATH}";
            until [ $(curl -m 0.5 -s -o /dev/null -w "%{http_code}" -k ${URL}) -eq
            200 ]; do echo "waiting for ${URL}"; sleep 2; done;
          env:
          - name: SERVICE_NAME
            value: pl-nats-mgmt
          - name: SERVICE_PORT
            value: "8222"
          - name: HEALTH_PATH
          - name: PROTOCOL
            value: http
          image: ghcr.io/pixie-io/pixie-oss-pixie-dev-public-curl:multiarch-7.87.0@sha256:f7f265d5c64eb4463a43a99b6bf773f9e61a50aaa7cefaf564f43e42549a01dd
          imagePullPolicy: IfNotPresent
          name: nats-wait
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 10100
          runAsGroup: 10100
          runAsNonRoot: true
          runAsUser: 10100
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: metadata-service-account
        serviceAccountName: metadata-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - name: certs
          secret:
            defaultMode: 420
            secretName: service-tls-certs
        - name: metadata-volume
          persistentVolumeClaim:
            claimName: metadata-pv-claim
    updateStrategy:
      type: RollingUpdate
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: vizier-metadata-54694b9648
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updateRevision: vizier-metadata-54694b9648
    updatedReplicas: 1
kind: List
metadata:
  resourceVersion: ""
